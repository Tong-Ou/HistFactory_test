# HistFactory_test
## Introduction
This repository is dedicated to the simple test of HistFactory.
`makeExample.C` and `example.C` are example macros given in $ROOTSYS/tutorials/histfactory,
while WSinspector.C (author: Valerio Dao) is designed to print out contents in the created workspace.
## How to run
1. Run makeExample.C to create data, signal and background histograms, which would be 
written into a root file. The example1.root and example2.root in the repository are root files 
generated by makeExample.C, storing histograms of channel1 and channel2 respectively.
2. Edit example.C, set InputFile1 and InputFile2 to be the path to root files got from step1.
You can also reset other terms like systematics, statistical uncertainties, etc (as indicated by the names
of the corresponding functions) in example.C.
3. Run example.C to generate workspaces with HistFactory. Find the outputs in "./results". 
In two-channel case with output prefix set to "example_UsingC_twochannel", output files include:
*example_UsingC_twochannel_channel1(2)_meas_model.root -- Contain workspace of channel1(2).
*example_UsingC_twochannel_channel1(2)_profileLR.eps -- Plot of log profile likelihood vs parameter of interest.
*example_UsingC_twochannel_combined_meas_model.root -- Contain workspace combining two channels.
*example_UsingC_twochannel_combined_meas_profileLR.eps -- Plot of combined log likelihood vs parameter of interest.
*example_UsingC_twochannel_meas.root -- Contain summary of channel1, channel2 and combined(?).
*Others: Results table and log file.
4. Edit WSinspector.C, set sample names in line 1084-1086 to be those in your workspace.
5. "python runInspector.py <wsfile> <wsname> <dataname>" to print out contents of workspace.
